from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import ContextTypes

async def menu(update: Update, context: ContextTypes.DEFAULT_TYPE):
    keyboard = [
        [InlineKeyboardButton("üß† GPT-–ø–æ–º–æ—â—å", callback_data="gpt_help")],
        [InlineKeyboardButton("üìö –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤", callback_data="examples")],
        [InlineKeyboardButton("üì∏ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ", callback_data="image_help")],
        [InlineKeyboardButton("üåç –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç", callback_data="translate")],
        [InlineKeyboardButton("üéô –ì–æ–ª–æ—Å–æ–≤–æ–π —Ä–µ–∂–∏–º", callback_data="voice_mode")],
        [InlineKeyboardButton("üåê –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —è–∑—ã–∫ (–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ)", callback_data="change_language")],
        [InlineKeyboardButton("üíé –ü—Ä–µ–º–∏—É–º —Ä–µ–∂–∏–º", callback_data="premium_mode")],
        [InlineKeyboardButton("‚úçÔ∏è –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤", callback_data="feedback")],
    ]
    await context.bot.send_message(
        chat_id=update.effective_chat.id,
        text="üìã –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é AniAI:",
        reply_markup=InlineKeyboardMarkup(keyboard),
    )

async def handle_button(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    if query.data == "go_menu":
        intro = """üéâ –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –≤—ã–±—Ä–∞–ª AniAI ‚Äî –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ –≤ —Ä–∞–±–æ—Ç–µ, —É—á—ë–±–µ –∏ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏!

–° AniAI —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å –±—ã—Å—Ç—Ä—ã–π –∏ –ø—Ä–æ—Å—Ç–æ–π –¥–æ—Å—Ç—É–ø –∫ —Å–∞–º—ã–º –º–æ—â–Ω—ã–º –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º –ø—Ä—è–º–æ –≤ Telegram. –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ —Å–≤–æ–π –∑–∞–ø—Ä–æ—Å ‚Äî –∏ –±–æ—Ç —Å–∞–º —Ä–∞–∑–±–µ—Ä—ë—Ç—Å—è, —á—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ:

‚ú® –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
‚Ä¢ –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –Ω–∞ –ú–∞—Ä—Å–µ –≤ —Å—Ç–∏–ª–µ –∫–∏–±–µ—Ä–ø–∞–Ω–∫
‚Ä¢ –°–¥–µ–ª–∞–π –∫—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏ PDF –∏–ª–∏ —Ç–µ–∫—Å—Ç)
‚Ä¢ –ù–∞–ø–∏—à–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è –∫–æ–ª–ª–µ–≥–µ –≤ —à—É—Ç–æ—á–Ω–æ–º —Å—Ç–∏–ª–µ
‚Ä¢ –°–æ–∑–¥–∞–π –º—É–∑—ã–∫—É –≤ —Å—Ç–∏–ª–µ lo-fi –¥–ª—è —Ä–∞–±–æ—Ç—ã
‚Ä¢ –ü–µ—Ä–µ–≤–µ–¥–∏ —Ç–µ–∫—Å—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π

–ß—Ç–æ —É–º–µ–µ—Ç AniAI:
1. üìò –û–±—ä—è—Å–Ω—è–µ—Ç —Å–ª–æ–∂–Ω—ã–µ —Ç–µ–º—ã –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º
2. ‚úçÔ∏è –ü–æ–º–æ–≥–∞–µ—Ç –ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç—ã, –ø–∏—Å—å–º–∞, –æ–ø–∏—Å–∞–Ω–∏—è
3. üåç –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –Ω–∞ –ª—é–±–æ–π —è–∑—ã–∫
4. üñº –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
5. üéµ –ü–∏—à–µ—Ç –º—É–∑—ã–∫—É –ø–æ–¥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
6. üé• –°–æ–∑–¥–∞—ë—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ –≤–∏–¥–µ–æ –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—é
7. üìÑ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –≤—ã–¥–µ–ª—è–µ—Ç –≥–ª–∞–≤–Ω–æ–µ
8. üîó –ò—â–µ—Ç –∏–¥–µ–∏, –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ

ü§ñ AniAI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∞–º—ã–µ –ø–µ—Ä–µ–¥–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ ‚Äî GPT-4o, Ideogram, Suno –∏ –¥—Ä—É–≥–∏–µ. –ü–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤ —Ç–µ—á–µ–Ω–∏–µ 50 –¥–Ω–µ–π.

üëá –ù–∏–∂–µ –¥–æ—Å—Ç—É–ø–Ω–æ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"""
        await context.bot.send_message(chat_id=query.message.chat.id, text=intro)
        await menu(update, context)
        return

    responses = {
        "gpt_help": """üß† –ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å, –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É:
/ask –¢–≤–æ–π –≤–æ–ø—Ä–æ—Å

–ù–∞–ø—Ä–∏–º–µ—Ä:
/ask –û–±—ä—è—Å–Ω–∏, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏""",
        "examples": """üìö –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
‚Ä¢ –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –Ω–∞ –ú–∞—Ä—Å–µ –≤ —Å—Ç–∏–ª–µ –∫–∏–±–µ—Ä–ø–∞–Ω–∫
‚Ä¢ –°–æ–∑–¥–∞–π –º—É–∑—ã–∫—É –≤ —Å—Ç–∏–ª–µ lo-fi –¥–ª—è —Ä–∞–±–æ—Ç—ã
‚Ä¢ –û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—É—é –∑–∞–ø—É—Ç–∞–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
‚Ä¢ –ü–µ—Ä–µ–≤–µ–¥–∏ —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π: "–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–º–æ—â—å"

üëâ –ò—Å–ø–æ–ª—å–∑—É–π /ask –ø–µ—Ä–µ–¥ –≤–æ–ø—Ä–æ—Å–æ–º""",
        "translate": """üåç –ß—Ç–æ–±—ã –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç, –Ω–∞–ø–∏—à–∏:
/translate –¢–≤–æ–π —Ç–µ–∫—Å—Ç

üìè –ù–µ –±–æ–ª–µ–µ 3000 —Å–∏–º–≤–æ–ª–æ–≤ –∑–∞ —Ä–∞–∑""",
        "image_help": """üì∏ –ß—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É:
/image –¢–≤–æ–π –∑–∞–ø—Ä–æ—Å

–ü—Ä–∏–º–µ—Ä—ã:
/image –õ–µ—Ç—è—â–∏–π –∫–æ—Ç –≤ –æ—á–∫–∞—Ö –Ω–∞ —Ñ–æ–Ω–µ –∑–∞–∫–∞—Ç–∞
/image –ó–∞–º–æ–∫ –≤ —Å—Ç–∏–ª–µ —Å—Ç–∏–º–ø–∞–Ω–∫ –ø–æ–¥ –ª—É–Ω–æ–π

–ú–æ–¥–µ–ª—å: DALL¬∑E 3. –†–∞–∑–º–µ—Ä: 1024x1024""",
        "voice_mode": "üéô –ì–æ–ª–æ—Å–æ–≤–æ–π —Ä–µ–∂–∏–º –ø–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...",
        "change_language": "üåê –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ–∑–∂–µ. –°–µ–π—á–∞—Å –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫.",
        "premium_mode": "üíé –ü—Ä–µ–º–∏—É–º-—Ä–µ–∂–∏–º –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.",
        "feedback": """üì¨ –û—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–∑—ã–≤ –∑–¥–µ—Å—å: @AniAI_supportbot
–ú—ã —á–∏—Ç–∞–µ–º –∫–∞–∂–¥—ã–π –æ—Ç–∫–ª–∏–∫!"""
    }

    response = responses.get(query.data)
    if response:
        await context.bot.send_message(chat_id=query.message.chat.id, text=response)
    else:
        await context.bot.send_message(chat_id=query.message.chat.id, text="‚öôÔ∏è –§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.")
